process {
    withName: '.*CISTOPIC_INFERCONSENSUS' {
        ext.args   = params.cistopic.peak_half_width ? "--peak_half_width ${params.cistopic.peak_half_width}" : ""
        debug      = true
        cpus       = 4
        memory     = { 4.GB + 4.GB * (task.attempt - 1) }
        publishDir = [
            mode     : 'link',
            path     : 'results',
            saveAs   : { filename -> if ( filename.endsWith(".log") ) { "log/$filename" } else { filename } },
            overwrite: true
        ]
    }
}